'use strict';

angular.module('myApp.steps', ['ngRoute'])

    .controller('StepsCtrl', function ($scope, $location) {
        $scope.steps = [{"id":1,"a":{"img":"1A.jpg","value":"A"},"b":{"img":"1C.jpg","value":"C"}},{"id":2,"a":{"img":"2A.gif","value":"A"},"b":{"img":"2M.gif","value":"M"},"c":{"img":"2C.jpg","value":"C"}},{"id":3,"a":{"img":"3C.jpg","value":"C"},"b":{"img":"3E.jpg","value":"E"}},{"id":4,"a":{"img":"4L.jpg","value":"L"},"b":{"img":"4S.jpg","value":"S"}},{"id":5,"a":{"img":"5I.jpg","value":"I"},"b":{"img":"5P.jpg","value":"P"}},{"id":6,"a":{"img":"6I.jpg","value":"I"},"b":{"img":"6S.jpg","value":"S"}},{"id":7,"a":{"img":"7P.jpg","value":"P"},"b":{"img":"7S.jpg","value":"S"}}]

        $scope.recoTree = {"A":{"A":{"C":{"L":{"I":{"I":{"P":13,"S":31},"S":{"P":31,"S":31}},"P":{"I":{"P":13,"S":31},"S":{"P":31,"S":31}}},"S":{"I":{"I":{"P":22,"S":35},"S":{"P":22,"S":35}},"P":{"I":{"P":22,"S":22},"S":{"P":22,"S":22}}}},"E":{"L":{"I":{"I":{"P":17,"S":6},"S":{"P":6,"S":6}},"P":{"I":{"P":17,"S":6},"S":{"P":6,"S":6}}},"S":{"I":{"I":{"P":29,"S":44},"S":{"P":44,"S":44}},"P":{"I":{"P":29,"S":44},"S":{"P":44,"S":44}}}}},"M":{"C":{"L":{"I":{"I":{"P":13,"S":31},"S":{"P":13,"S":31}},"P":{"I":{"P":13,"S":13},"S":{"P":13,"S":13}}},"S":{"I":{"I":{"P":22,"S":18},"S":{"P":22,"S":18}},"P":{"I":{"P":22,"S":22},"S":{"P":22,"S":19}}}},"E":{"L":{"I":{"I":{"P":17,"S":6},"S":{"P":6,"S":6}},"P":{"I":{"P":17,"S":6},"S":{"P":6,"S":6}}},"S":{"I":{"I":{"P":29,"S":3},"S":{"P":3,"S":3}},"P":{"I":{"P":29,"S":3},"S":{"P":3,"S":3}}}}}},"C":{"C":{"C":{"L":{"I":{"I":{"P":13,"S":9},"S":{"P":9,"S":9}},"P":{"I":{"P":13,"S":9},"S":{"P":23,"S":9}}},"S":{"I":{"I":{"P":22,"S":20},"S":{"P":22,"S":20}},"P":{"I":{"P":22,"S":22},"S":{"P":22,"S":22}}}},"E":{"L":{"I":{"I":{"P":32,"S":0},"S":{"P":0,"S":0}},"P":{"I":{"P":32,"S":0},"S":{"P":4,"S":8}}},"S":{"I":{"I":{"P":39,"S":38},"S":{"P":38,"S":38}},"P":{"I":{"P":39,"S":38},"S":{"P":38,"S":36}}}}},"M":{"C":{"L":{"I":{"I":{"P":13,"S":27},"S":{"P":27,"S":27}},"P":{"I":{"P":13,"S":27},"S":{"P":27,"S":27}}},"S":{"I":{"I":{"P":22,"S":20},"S":{"P":22,"S":20}},"P":{"I":{"P":22,"S":22},"S":{"P":11,"S":2}}}},"E":{"L":{"I":{"I":{"P":21,"S":16},"S":{"P":16,"S":16}},"P":{"I":{"P":21,"S":16},"S":{"P":33,"S":16}}},"S":{"I":{"I":{"P":29,"S":24},"S":{"P":24,"S":24}},"P":{"I":{"P":29,"S":24},"S":{"P":24,"S":12}}}}}}};

        $scope.expoData = [{"name":"Gaîté Lyrique : Capitaine Futur","description":"Let's feel the technology ! This exhibition offers you to explore the virtual world with a special mate : Captain Future ! Ok, you know all about computers and smartphones but this character will reveal you the secrets they hide inside his processors. A lot of sensations and visions to discover technology in a ungeeky way !","location":"The Gaîté Lyrique was a theater from the XIXth century, but some guys decided to change it into an amusement park in 1989 : bad idea ! In 2010, it was re-opend as a hip centre mixing new technologies and art. Everyday, you have concerts, debates and meetings, in a 10 000 square metres : a hip place for hip people !"},{"name":"Fondation Vuitton : Franck Gehry","description":"Guggenheim museum creator's new place in Paris. This guy created crazy buildings like the Guggenheim Museum and the Cinematheque. He is know as one of the most famous architects on earth. Now he's saying that architecture is \"shit\" : you have to check is work to desagree ! ","location":"The Fondation Louis Vuitton is a new place in Paris, that opened just a week ago, conceived by Gehry. This gigantic and futuristic glasshouse, in the center of the Jardin d'Acclimatation, a big park near Paris, is truly amazing."},{"name":"Musée Picasso","description":"Everyone knows Picasso. Some say that he paints like a five years old kid but they are just stupid. Picasso is a great painter and sculpter that re-invented the notion of art at the beginning of the XXth century. The collection of the museum is huge : you will crave for it !","location":"In a beautiful \"hotel particulier\", in the center of Paris, that was just reopened a week ago. You have to go there just to see the place !"},{"name":"Grand Palais : Hokusai","description":"At the age of 80, Hokusai called himself « The old man crazy about painting ». And he was crazy about painting indeed : at his advanced age, he kept saying that if he could live and practice his art for 20 more years, the birds on his paintings would be able to fly on their own. When you see his Ukiyo-e printings, you’re willing to believe that : from his peaceful mountain and rice field landscapes to his gigantic wave over Mt. Fuji, he seems to be able to control time, to make one image last for eternity, and another one for an instant. Just fly, little bird, and go see it for yourself !","location":"The Grand Palais, as its name points out, is a Great Palace by the Champs-Elysées, built in the \"Beaux-Arts\" style. Classy as hell."},{"name":"Galerie Artludik : Art de Assassin's Creed","description":"Video game is art. You don't believe me ? Come at the Artludik Gallery and change your mind. Discover a new exhibition on artistic works inspired by the Assassin's Creed Series. Are featured more than 80 artworks taken from all episode of the last decade best video game serie. Be careful : the exhibition has side effects. You will try to jump from Notre-Dame after. ","location":"ArtLudik, what a cool name. The gallery is on the Ile de la Cité (the island craddle of the French civilization no less) and home to those aforementioned traditional galleries, thus striking at the heart of the argument. "},{"name":"Centre Pompidou : Marcel Duchamp","description":"Marcel Duchamp was also a painter. Mostly known for having transformed an urinal into a piece of art, Marcel Duchamp created a lot of paintings at the beginning of the XXth century. This exhib confronts his work to other artists' masterpieces such as Odilon Redon, Picabia, Delaunay and Leger. At the end, you'll face his first \"ready-made\" The Bride Stripped Bare by Her Bachelors, Even (The Large Glass), as a result of his researches. If you're not dada, don't do it !","location":null},{"name":"Pinacothèque : Expo Kamasutra","description":"Oh boy, you don't want to miss that one ! \"The Kamasutra spirituality and erotism in Indian art\" walks you through the erotic aesthetics specifics to Indian cultural life. Don't bring your children : we unadvise the exhibition to minors, but highly recommend it to any guys who spend too much time on Product Hunt looking for the next dating app. Think retention before acquisition boys ! Come at Pinacothèque and unleash the power of 330 outstanding works including those of Shinji Arving Singh Mewar, maharana of Udaipur.","location":"The Pinacothèque de Paris is an art gallery with exhibition space for temporary exhibitions of artworks. Opened in 2007, the gallery is owned by the academic and Modigliani scholar Marc Restellini. "},{"name":"Cinémathèque : Truffaut","description":"If you think that ‘The 400 Blows’ is the sequel of ‘300: Rise of an Empire’, if you’ve heard many times about that French dude Antoine Doisnel that all the hip girls fantasize about but don’t have a clue who he is, or if you usually think in a social context that Nouvelle Vague refers to the indie bossa conver band, this exhibit is for you. Seriously. Truffaut is not just another French New Wave filmmaker. He’s THE guy that conceptualized the movement both as a critic and as a director. But they’ll explain everything once you get there. Oh, sorry, you already know Truffaut ? Well that’s even better then !","location":"The Cinémathèque Française is THE place to be in Paris for movie lovers. And it's next to the Parc de Bercy."},{"name":"Street Art : Fondation EDF","description":"They want to keep the cities clean like Singapore. They want us to live there but never own the buildings. Thank god, there is street art ! Street art is by nature a ‘non permanent art form’ that can be removed in a couple of minutes only. It can also last longer, on the walls and in our hearts. Word. This exhibition also shows ‘graffiti’ cities, with huge murals painted, featuring artists doing big-big pieces on cool buildings’ walls.","location":"EDF is not only France biggest energy supplier, but also an art lover. With Espace Fondation EDF, they help young artists reach a broader audience than friends and family. Kudos to them and Henri Proglio, CEO."},{"name":"Musée Art Ludique : Dessins Studio Ghibli","description":"We’ve all seen Spirited Away, Princess Mononoke, or Howl’s Moving Castle. We’ve all enjoyed the magic of Studio Ghibli, especially those by genius Miyazaki and master Takahata. But, just like a kid wanting to know what’s the trick behind the magic, we know you’re going to enjoy discovering over 1300 sketches and layouts from the Ghibli productions. So don’t wait for another minute and go get spirited away !","location":"The Cité de la Mode et du Design is a cool spot by the Seine. It actually hosts a museum, a school for fashion and design, and even a cool clun with a chill terrace. Believe us, you'll love it."},{"name":"Musée de Louvre"},{"name":"Musée Zadkine","description":"Russians are not just vodka drinkers. Zadkine is a Russian but settled in Paris in 1910, where he lived many years, and created a lot of strange sculptures in a cubistic way. You will be amazed !","location":"Near Montparnasse, this museum isn't that famous but has a really nice garden, which is quite rare in the center of Paris. You will feel you're the sculptor buddy, hanging out in his atelier. There is another Zadkine Museum in the South of France, in Les Arques, if you want to go 300 miles away."},{"name":"Musée d'Orsay : Sade","description":"For whips addicts only ! You are kinky and you have always wonder where 'sadistic' comes from : you have to visit this exhibition ! The XVIIIth century aristocrat was famous for his writings depicting his sexual fantaisies. He was emprisonned for ten years in The Bastille but he managed to change his contemporaries' behaviours making us French, the most wicked people in the world. But he didn't invent 'french kiss'.","location":"The Musée d'Orsay was not a museum but a train station. Crazy place : instead of railroads, you'll find huge walls full of paintings. This ticket will get you a lot further than any station in the world !"},{"name":"Musée du Moyen-âge : Voyager","description":"They had no GPS back then ! Travelling during the Medieval time wasn't easy : no Airbnb, no Couchsurfing to find the proper 'pied-à-terre'. No GPS, but a lot of maps and other objects to help you getting to Santiago di Compostela in Spain... You will hear crazy stories about those travellers and maybe find that the only way to travel is walking.","location":"This medieval museum, aka 'Cluny', is very famous for his tapesteries 'The Lady and The Unicorn' and his structure. It was build in the Middle Age as abbots but became  an observatory in the XVIIIth, but at the beginning there were some Gallo-Roman baths... Anyway, it's old stuff and you will feel like an archeologist finding gold nuggets there !"},{"name":"Musée Cernuschi : Japon au fil des saisons ","description":"Summary\nin the form of a haiku: There are four\nseasons / Each of them is inspiring /\nGo see it yourself","location":"This museaum is a cute little place dedicated to Asian cultures. It has a nice asian garden, you'll like it no matter what is the season."},{"name":"Institut du monde arabe : Maroc Contemporain","description":"Morocco ! It's a victory shout. You are not going to quiet exhibition. There will be songs. There will be passion. There will be all the great things about an ethnically diverse country with a rich culture and civilization. The exhibition will walk you through Moroccan history. Discover that today's Morocco is shaped by the mix of many people coming from East (Phoenicians,Carthaginians, Jews and Arabs), South (Sub-Saharan Africans) and North (Romans, Vandals, Andalusians and Moors).","location":"The Arab World Institute (abbreviated \"AWI\"). Only three letters but one goal : promote the Arabic culture and work on a better world by improving the understanding between the Arab world and Europe. Founded in Paris in 1980 by 18 Arab countries, the Institute is a \"must-see\" for all new comers in Paris. Take a deep breath and refresh your knowledge on the Arab world."},{"name":"Musée d'Art Moderne : Sonia Delaunay","description":"The wife is as good as the husband. Sonia Delaunay is a great painter. Her paintings are full of colours and geometric shapes. She started working with Robert Delaunay on Orphism in 1911 but she had the idea making a blanket to her son... Yep, a cubist blanket ! The exhibition shows a lot of fine paintings and you will love her abstraction ! ","location":"The Musée d'Art Moderne is a huge space dedicated to modern art and the most famous painters : Picasso, Matisse, Dufy, Léger... they're all here and thieves know that : in 2010, a guy stole 5 paintings valued at $123 million USD... but he left the other away, fortunately !"},{"name":"Musée de la Chasse et de la Nature : Cabinet des curiosités","description":"The place for hunters and nature lovers. ","location":"This museum was created by a hunter to celebrate the relationships between humans and the natural environment but don't worry : no bestialism here ! Only cool paintings and sculptures (about 3000 items). Check the trophee room and the contemporary animal room ! \n"},{"name":"Musée Hébert","description":"Perfect portraits. Hébert is a really skilled painter of the XIXth century. The details of his pictures are amazing : you will mix his art with reality !","location":"This museum is placed in a gorgeous hotel : the Hotel Montmorency, an aristocratic house constructed in the XVIIIth century ! You will feed as happy as a duke in this place ! \n"},{"name":"Musée Rodin","description":"Life in bronze. Rodin is known to be the inventor of modern sculpture. Don't think you are going to see just antiquities : the characters Rodin carved are alive !","location":"The Musée Rodin is a cool place to admire sculptures. It has a great garden ! The collection includes 6 000 sculptures so you will not get bored !"},{"name":"Musée d'Art et d'Histoire du Judaïsme : Roman Vishniac","description":"A testimony in pictures. 220 works to explore the photographic work of Roman Vishniac, a Jewish artist confronted to History : the exhibition reveals over 100 previously unpublished images by this great XXth century photographer. His talent is obvious : he catches the perfect moment and shows people in his own way, sometimes funny and sometimes troubling.\n","location":"This museum is close to a very nice park that few Parisians know. Chill out a bit there, and you will find peace !\n"},{"name":"Musée de la Franc-Maçonnerie : Expo Daumier","description":"Caricature is art ! You have humor, for sure ! Daumier had a lot too : he is one of the finest caricaturists and the most famous one in the XIXth century ! With his pencils, he could destroy the image of a king or a politician... Art, freedom and pearheads !","location":null},{"name":"Maison de Balzac","description":"The Human Comedy. Balzac was spending the whole day writing... he had to work to get the food on the table. His house was kept exactly the same and you will dive into his masterpiece, 'The Human Comedy' (more than 50 novels and hundred of characters).","location":"The Maison de Balzac is in a quiet district of Paris and has a garden, which is quite rare in the city. You can get a unique view on the Eiffel Tower from here."},{"name":"Musée Arts Décoratifs Mode et du Textile : AD Intérieurs","description":null,"location":null},{"name":"Musée de l'Armée : Vu du front","description":"War is bad. Ok, we are aware of that. But as we are celebrating the century of World War I, the exhibition puts you on the battlefront, to understand what war is from inside. A lot of powerful paintings !","location":"The Invalides were a hospital and a retirement home for war veterans at the beginning. This huge structure will fascinate you : a must-seen in Paris, even if you are no soldier."},{"name":"Musée des Arts Asiatiques Guimet : Dynastie des Han","description":null,"location":null},{"name":"Musée Galliéra - Musée de la Mode de la ville de Paris : Mode des 50's"},{"name":"Musée National de L'Orangerie des Tuileries : Emile Bernard","description":null,"location":null},{"name":"Musée de la Vie Romantique : La Fabrique du Romantisme","description":null,"location":"You have to come just to see this house : the interior is fabulous, you will feel you are back to the romantic period of the XIXth century !"},{"name":"Catacombes de Paris","description":"Death is everywhere... If you haven't seen the movie, it's even better : for Halloween, what place could be gloomiest in Paris ? Here you have skulls, bones, bones and skulls... You will only be buried for one hour but you're going to remember this experience !","location":null},{"name":"Musée Carnavalet-Histoire de Paris"},{"name":"Musée de Montmartre : Expo Esprit de Montmartre","description":null,"location":"Montmartre is the best place to contemplate Paris as if you were a giant or god. It kept the memory of an old Paris style that the rest of the city doesn't have no more."},{"name":"Cité des Sciences et de l'Industrie : Art robotique","description":null,"location":null},{"name":"Musée de la magie et des automates","description":null,"location":null},{"name":"Musée Maillol : Les Borgia et leur temps","description":"Haven’t\nyou seen The Borgias on TV ? Well,\nok, it’s not as good as Game of Thrones.\nBut believe us, compared to the real life Borgias, the Lannisters are a bunch\nof merry Disney characters. No kidding. Still to this day, The Borgia family is\na symbol of cruelty, debauchery and vice. And yet, this exhibit is not ‘just’\nabout that. It’s also about their time, the Renaissance (‘Rebirth’), during\nwhich the world evolved and expanded thanks, among others, to the invention of\nprinting, the development of arts and culture, and…oh yeah, the discovery of\nAmerica too !","location":"You'd never believe that this small, tiny parisian street is hiding such a beautiful museum. The place itself is an art piece, with its collections of statues (some of which have been placed in the Jardin des Tuileries). If you don't love it, your other-half will."},{"name":"BNF : De rouge et de noir - Les vases grecs","description":"Those Ancient Greeks, man. They had it all figured out, and they didn’t need any smartphones for that. You see, they painted cool mythological stories on vases. It’s just like if you had cool scenes from Avengers depicted on your soda cans. It adds a useless but pleasant layer to a purely functional object. Even better, they also painted scenes from the everyday life, so YOU could come and see them more than 2000 years later. So get off your phone and come see it! And then maybe you’ll start painting your day at the office on your mug, who knows ?","location":"The BNF (Bibliothèque Nationale de France) is actually a library. And not just any library. The 'old-futuristic' architecture design will make you feel like you're in a mix between M.I.B. and Harry Potter. Pretty cool, right ?"},{"name":"Jeu de Paume : Gary Winogrand","description":"Ok, we know what you’re gonna say. You don’t need to come all the way to Paris to see pictures of Garry Winogrand. And plus, you can already see a bunch of them on the subway walls. But here it’s the different: it’s the first retrospective on Winogrand in 20 years, and about half of the photos shown have never been released or shown before. So what do you say now ?","location":"Situated in the Jardin des Tuileries, the Jeu de Paume is an amazing space that was built under Napoleon III (not the badass emperor one)."},{"name":"Musée des Lettres et Manuscrits : Je n'ai rien d'autre à te dire sinon que je t'aime"},{"name":"Château de Versailles : Lee Ufan","description":"Hey, why not kill two birds with one stone and do an awesome artistic/cultural package by going to see Lee Ufan’s carte blanche in the gardens of the Château de Versailles? Lee Ufan’s artistic installations are peaceful and meditative, sometimes even so subtle that you’ll need to look for them in this natural and yet perfectly symmetric space that the Jardins du Château constitute. Shall we ?","location":"Do we need to introduce the Château de Versailles ? This place sends back all the MTV celebrities from \"Cribs\" back to their tiny little condos. And all of it was built for just one dude. That's enough said."},{"name":"Monnaie de Paris : Paul McCarthy, Chocolate Factory","description":"If you were in Paris this month, you sure have heard of 'The Tree', a controversial creation that was destroyed after two days by a hateful defender of 'morality'... Well, if you are happy about it, you might avoid this exhibition ! Mc Carthy is a bad child : he loved to play with food. So he created a chocolate factory to denounce our wasting habits.","location":"The Monnaie de Paris is useless since the French use euro nowadays. It became a "},{"name":"Tour jean sans peur : Expo l'amour au M A","description":null,"location":null},{"name":"Saint chapelle : visite de la Sainte Chapelle","description":null,"location":null},{"name":"Palais des beaux arts : Possible d'un monde fragmenté","description":null,"location":null},{"name":"Crypte archéologique du parvis de Notre-Dame: viste de la crypte","description":"Tales of the crypt. Go down in Notre-Dame","location":null},{"name":"Quai Branly : Les Mayas","description":null,"location":null}];

        $scope.current_step = $scope.steps[0];
        $scope.imga = "url('img/questions/" + $scope.current_step.a.img + "')";
        $scope.imgb = "url('img/questions/" + $scope.current_step.b.img + "')";

        $scope.choice = "a";

        $scope.finished = false;

        $scope.reco = {}

        $scope.choices = [];

        render_slides(function (value) {
            $scope.choice = value;
            console.log(value)
            $scope.render_next(value);
        })

        $scope.render_next = function (value) {
            var next_step_id = $scope.current_step.id;

            $scope.choices.push($scope.current_step[value].value)

            if (next_step_id >= $scope.steps.length) {
                next_step_id = $scope.steps.length - 1;

                var reco = $scope.recoTree[$scope.choices[0]]['C'][$scope.choices[2]][$scope.choices[3]][$scope.choices[4]][$scope.choices[5]][$scope.choices[6]];

                $scope.finished = true

                var reco = $scope.recoTree['C']['M']['E']['L']['I']['S']['S'];

                console.log("expoData", $scope.expoData[reco])

                $scope.reco = $scope.expoData[reco];
            }
            
            $scope.current_step = $scope.steps[next_step_id];

            console.log('slider value is', $scope.current_step);

            $scope.imga = "url('img/questions/" + $scope.current_step.a.img + "')";
            $scope.imgb = "url('img/questions/" + $scope.current_step.b.img + "')";
            window.slider.reset()

            $scope.$apply();
        }
    })
